var m=Object.defineProperty;var g=(a,t,e)=>t in a?m(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var o=(a,t,e)=>g(a,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function e(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(i){if(i.ep)return;i.ep=!0;const n=e(i);fetch(i.href,n)}})();const d={headerThreshold:50,backToTopThreshold:500,animationThreshold:.1,animationRootMargin:"0px 0px -50px 0px",counterDuration:2e3},r={header:document.getElementById("header"),navToggle:document.getElementById("navToggle"),navMenu:document.getElementById("navMenu"),backToTop:document.getElementById("backToTop"),navLinks:document.querySelectorAll(".nav__link"),stats:document.querySelectorAll(".stat__value"),hero:document.getElementById("home"),lightbox:document.getElementById("lightbox")};class f{constructor(){o(this,"lastScrollY",0);o(this,"ticking",!1);this.init()}init(){var t;(t=r.navToggle)==null||t.addEventListener("click",()=>this.toggleMobileMenu()),r.navLinks.forEach(e=>{e.addEventListener("click",()=>this.closeMobileMenu())}),this.setupSmoothScroll(),window.addEventListener("scroll",()=>this.onScroll(),{passive:!0}),this.updateActiveLink()}toggleMobileMenu(){var t,e,s;(t=r.navToggle)==null||t.classList.toggle("nav__toggle--active"),(e=r.navMenu)==null||e.classList.toggle("nav__menu--active"),document.body.style.overflow=(s=r.navMenu)!=null&&s.classList.contains("nav__menu--active")?"hidden":""}closeMobileMenu(){var t,e;(t=r.navToggle)==null||t.classList.remove("nav__toggle--active"),(e=r.navMenu)==null||e.classList.remove("nav__menu--active"),document.body.style.overflow=""}setupSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",e=>{var n;const s=t.getAttribute("href");if(!s||s==="#")return;const i=document.querySelector(s);if(i){e.preventDefault();const l=((n=r.header)==null?void 0:n.offsetHeight)||0,h=i.getBoundingClientRect().top+window.pageYOffset-l;window.scrollTo({top:h,behavior:"smooth"})}})})}onScroll(){this.ticking||(window.requestAnimationFrame(()=>{this.handleScroll(),this.ticking=!1}),this.ticking=!0)}handleScroll(){const t=window.pageYOffset;r.header&&(t>d.headerThreshold?r.header.classList.add("header--scrolled"):r.header.classList.remove("header--scrolled")),r.backToTop&&(t>d.backToTopThreshold?r.backToTop.classList.add("back-to-top--visible"):r.backToTop.classList.remove("back-to-top--visible")),this.updateActiveLink(),this.lastScrollY=t}updateActiveLink(){var i;const t=document.querySelectorAll("section[id]"),e=window.pageYOffset,s=((i=r.header)==null?void 0:i.offsetHeight)||0;t.forEach(n=>{const l=n.offsetTop-s-100,h=n.offsetHeight,c=n.getAttribute("id");e>l&&e<=l+h&&r.navLinks.forEach(u=>{u.classList.remove("active"),u.getAttribute("href")===`#${c}`&&u.classList.add("active")})})}}class p{constructor(){o(this,"counters",new Map);this.init()}init(){r.stats.forEach(t=>{const e=parseFloat(t.dataset.count||"0"),s=t.dataset.suffix||"";this.counters.set(t,{targetValue:e,suffix:s,startTime:null,startValue:0,animated:!1})}),this.setupIntersectionObserver()}setupIntersectionObserver(){const t=new IntersectionObserver(e=>{e.forEach(s=>{if(s.isIntersecting){const i=s.target,n=this.counters.get(i);n&&!n.animated&&(n.animated=!0,this.animateCounter(i,n),t.unobserve(i))}})},{threshold:.5});r.stats.forEach(e=>t.observe(e))}animateCounter(t,e){const s=i=>{e.startTime===null&&(e.startTime=i);const n=i-e.startTime,l=Math.min(n/d.counterDuration,1),h=1-Math.pow(1-l,4),c=e.startValue+(e.targetValue-e.startValue)*h;e.targetValue>=1e5?t.textContent=`${(c/1e4).toFixed(0)}万+${e.suffix}`:e.targetValue>=1e3?e.suffix&&(e.suffix.includes("万")||e.suffix.includes("亿"))?t.textContent=`${Math.floor(c)}${e.suffix}`:t.textContent=`${(c/1e3).toFixed(1)}k+${e.suffix}`:e.targetValue%1!==0?t.textContent=`${c.toFixed(1)}${e.suffix}`:t.textContent=`${Math.floor(c)}${e.suffix}`,l<1&&requestAnimationFrame(s)};requestAnimationFrame(s)}}class v{constructor(){o(this,"elements",[]);this.init()}init(){[".product-card",".advantage-item",".solution-card",".case-card",".benefit-item",".download-card",".contact-item",".certificate-card",".culture-item",".timeline-item"].forEach(e=>{document.querySelectorAll(e).forEach(s=>{this.elements.push(s)})}),this.setupIntersectionObserver()}setupIntersectionObserver(){const t=new IntersectionObserver(e=>{e.forEach((s,i)=>{s.isIntersecting&&(setTimeout(()=>{s.target.classList.add("fade-in--visible")},i*50),t.unobserve(s.target))})},{threshold:d.animationThreshold,rootMargin:d.animationRootMargin});this.elements.forEach(e=>{e.classList.add("fade-in"),t.observe(e)})}}class y{constructor(){this.init()}init(){var t;(t=r.backToTop)==null||t.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}}class b{constructor(){o(this,"carousel",null);o(this,"track",null);o(this,"slides",[]);o(this,"prevBtn",null);o(this,"nextBtn",null);o(this,"indicators",[]);o(this,"currentIndex",0);o(this,"autoplayInterval",null);this.init()}init(){var t,e;this.carousel=document.getElementById("heroCarousel"),this.track=document.getElementById("carouselTrack"),this.prevBtn=document.getElementById("carouselPrev"),this.nextBtn=document.getElementById("carouselNext"),!(!this.carousel||!this.track)&&(this.slides=Array.from(this.track.querySelectorAll(".hero__carousel-slide")),this.indicators=Array.from(this.carousel.querySelectorAll(".hero__carousel-indicator")),this.slides.length!==0&&((t=this.prevBtn)==null||t.addEventListener("click",()=>this.prev()),(e=this.nextBtn)==null||e.addEventListener("click",()=>this.next()),this.indicators.forEach((s,i)=>{s.addEventListener("click",()=>this.goToSlide(i))}),this.goToSlide(0),this.startAutoplay(),this.carousel.addEventListener("mouseenter",()=>this.stopAutoplay()),this.carousel.addEventListener("mouseleave",()=>this.startAutoplay())))}goToSlide(t){t<0?t=this.slides.length-1:t>=this.slides.length&&(t=0),this.currentIndex=t,this.slides.forEach((e,s)=>{s===t?e.classList.add("active"):e.classList.remove("active")}),this.indicators.forEach((e,s)=>{s===t?e.classList.add("active"):e.classList.remove("active")})}next(){this.goToSlide(this.currentIndex+1)}prev(){this.goToSlide(this.currentIndex-1)}startAutoplay(){this.stopAutoplay(),this.autoplayInterval=window.setInterval(()=>{this.next()},4e3)}stopAutoplay(){this.autoplayInterval&&(clearInterval(this.autoplayInterval),this.autoplayInterval=null)}}class x{constructor(){o(this,"lightbox",null);o(this,"overlay",null);o(this,"closeBtn",null);o(this,"image",null);o(this,"prevBtn",null);o(this,"nextBtn",null);o(this,"carouselImages",[]);o(this,"currentIndex",0);this.init()}init(){var e,s;if(this.lightbox=document.getElementById("lightbox"),this.overlay=document.getElementById("lightboxOverlay"),this.closeBtn=document.getElementById("lightboxClose"),this.image=document.getElementById("lightboxImage"),this.prevBtn=document.getElementById("lightboxPrev"),this.nextBtn=document.getElementById("lightboxNext"),!this.lightbox||!this.overlay||!this.closeBtn||!this.image)return;this.carouselImages=Array.from(document.querySelectorAll(".hero__carousel-image")),this.carouselImages.forEach((i,n)=>{i.style.cursor="pointer",i.addEventListener("click",()=>this.open(n))}),Array.from(document.querySelectorAll(".certificate-zoom")).forEach(i=>{i.addEventListener("click",n=>{n.preventDefault();const l=i.getAttribute("data-full")||i.src;this.openCustom(l,i.getAttribute("alt")||"")})}),this.closeBtn.addEventListener("click",()=>this.close()),(e=this.prevBtn)==null||e.addEventListener("click",()=>this.prev()),(s=this.nextBtn)==null||s.addEventListener("click",()=>this.next()),this.overlay.addEventListener("click",()=>this.close()),document.addEventListener("keydown",i=>{var n;(n=this.lightbox)!=null&&n.classList.contains("active")&&(i.key==="Escape"?this.close():i.key==="ArrowLeft"?this.prev():i.key==="ArrowRight"&&this.next())})}open(t){var s,i;if(!this.image||!this.lightbox)return;this.currentIndex=t;const e=this.carouselImages[t];this.image.src=e.src,this.image.setAttribute("alt",e.getAttribute("alt")||""),(s=this.prevBtn)==null||s.classList.remove("hidden"),(i=this.nextBtn)==null||i.classList.remove("hidden"),this.lightbox.classList.add("active"),document.body.style.overflow="hidden"}close(){this.lightbox&&(this.lightbox.classList.remove("active"),document.body.style.overflow="")}openCustom(t,e){var s,i;!this.image||!this.lightbox||(this.image.src=t,this.image.setAttribute("alt",e),(s=this.prevBtn)==null||s.classList.add("hidden"),(i=this.nextBtn)==null||i.classList.add("hidden"),this.lightbox.classList.add("active"),document.body.style.overflow="hidden")}prev(){this.carouselImages.length!==0&&(this.currentIndex--,this.currentIndex<0&&(this.currentIndex=this.carouselImages.length-1),this.showImage(this.currentIndex))}next(){this.carouselImages.length!==0&&(this.currentIndex++,this.currentIndex>=this.carouselImages.length&&(this.currentIndex=0),this.showImage(this.currentIndex))}showImage(t){if(!this.image||t<0||t>=this.carouselImages.length)return;const e=this.carouselImages[t];this.image.src=e.src,this.image.setAttribute("alt",e.getAttribute("alt")||"")}}class T{constructor(){o(this,"navigation");o(this,"counterAnimation");o(this,"scrollAnimation");o(this,"backToTop");o(this,"heroCarousel");o(this,"mapTooltip");o(this,"lightbox");document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>this.init()):this.init()}init(){this.navigation=new f,this.counterAnimation=new p,this.scrollAnimation=new v,this.backToTop=new y,this.heroCarousel=new b,this.mapTooltip=new I,this.lightbox=new x,document.body.classList.add("loaded"),console.log("必诚科技官网已加载完成"),this.mapTooltip,this.lightbox}}class I{constructor(){o(this,"map",null);o(this,"mapTitle",null);o(this,"tooltip",null);o(this,"tooltipText",null);o(this,"provinces",[]);this.init()}init(){this.map=document.querySelector(".china-map"),this.tooltip=document.getElementById("mapTooltip"),this.mapTitle=document.querySelector(".partners__map h3"),!(!this.map||!this.tooltip)&&(this.tooltipText=document.getElementById("tooltipText"),this.mapTitle&&(this.mapTitle.textContent=""),this.provinces=Array.from(this.map.querySelectorAll(".province")),this.provinces.forEach(t=>{t.addEventListener("mouseenter",e=>this.showTooltip(e)),t.addEventListener("mouseleave",()=>this.hideTooltip())}))}showTooltip(t){const s=t.currentTarget.getAttribute("data-name");!s||!this.tooltipText||!this.tooltip||!this.mapTitle||(this.mapTitle.textContent=s,this.tooltip.style.display="none")}hideTooltip(){this.mapTitle&&(this.mapTitle.textContent="")}}new T;
//# sourceMappingURL=index-tQ5oxgOt.js.map
