{"version":3,"file":"index-CI1nLEQA.js","sources":["../../src/scripts/main.ts"],"sourcesContent":["// 导入样式\r\nimport '../styles/main.scss';\r\n\r\n// ============================================\r\n// 配置\r\n// ============================================\r\n\r\nconst CONFIG = {\r\n  headerThreshold: 50,\r\n  backToTopThreshold: 500,\r\n  animationThreshold: 0.1,\r\n  animationRootMargin: '0px 0px -50px 0px',\r\n  counterDuration: 2000,\r\n} as const;\r\n\r\n// ============================================\r\n// DOM 元素引用\r\n// ============================================\r\n\r\nconst DOM = {\r\n  header: document.getElementById('header') as HTMLElement,\r\n  navToggle: document.getElementById('navToggle') as HTMLButtonElement,\r\n  navMenu: document.getElementById('navMenu') as HTMLElement,\r\n  backToTop: document.getElementById('backToTop') as HTMLButtonElement,\r\n  navLinks: document.querySelectorAll('.nav__link') as NodeListOf<HTMLAnchorElement>,\r\n  stats: document.querySelectorAll('.stat__value') as NodeListOf<HTMLElement>,\r\n  hero: document.getElementById('home') as HTMLElement,\r\n  lightbox: document.getElementById('lightbox') as HTMLElement,\r\n};\r\n\r\n// ============================================\r\n// 导航功能\r\n// ============================================\r\n\r\nclass Navigation {\r\n  private lastScrollY = 0;\r\n  private ticking = false;\r\n\r\n  constructor() {\r\n    this.init();\r\n  }\r\n\r\n  private init(): void {\r\n    // 移动端菜单切换\r\n    DOM.navToggle?.addEventListener('click', () => this.toggleMobileMenu());\r\n\r\n    // 点击导航链接关闭移动菜单\r\n    DOM.navLinks.forEach(link => {\r\n      link.addEventListener('click', () => this.closeMobileMenu());\r\n    });\r\n\r\n    // 平滑滚动\r\n    this.setupSmoothScroll();\r\n\r\n    // 滚动监听\r\n    window.addEventListener('scroll', () => this.onScroll(), { passive: true });\r\n\r\n    // 初始化活动状态\r\n    this.updateActiveLink();\r\n  }\r\n\r\n  private toggleMobileMenu(): void {\r\n    DOM.navToggle?.classList.toggle('nav__toggle--active');\r\n    DOM.navMenu?.classList.toggle('nav__menu--active');\r\n    document.body.style.overflow = DOM.navMenu?.classList.contains('nav__menu--active')\r\n      ? 'hidden'\r\n      : '';\r\n  }\r\n\r\n  private closeMobileMenu(): void {\r\n    DOM.navToggle?.classList.remove('nav__toggle--active');\r\n    DOM.navMenu?.classList.remove('nav__menu--active');\r\n    document.body.style.overflow = '';\r\n  }\r\n\r\n  private setupSmoothScroll(): void {\r\n    document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\r\n      anchor.addEventListener('click', (e) => {\r\n        const href = anchor.getAttribute('href');\r\n        if (!href || href === '#') return;\r\n\r\n        const target = document.querySelector(href);\r\n        if (target) {\r\n          e.preventDefault();\r\n          const headerHeight = DOM.header?.offsetHeight || 0;\r\n          const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - headerHeight;\r\n\r\n          window.scrollTo({\r\n            top: targetPosition,\r\n            behavior: 'smooth',\r\n          });\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  private onScroll(): void {\r\n    if (!this.ticking) {\r\n      window.requestAnimationFrame(() => {\r\n        this.handleScroll();\r\n        this.ticking = false;\r\n      });\r\n      this.ticking = true;\r\n    }\r\n  }\r\n\r\n  private handleScroll(): void {\r\n    const scrollY = window.pageYOffset;\r\n\r\n    // Header 样式\r\n    if (DOM.header) {\r\n      if (scrollY > CONFIG.headerThreshold) {\r\n        DOM.header.classList.add('header--scrolled');\r\n      } else {\r\n        DOM.header.classList.remove('header--scrolled');\r\n      }\r\n    }\r\n\r\n    // 回到顶部按钮\r\n    if (DOM.backToTop) {\r\n      if (scrollY > CONFIG.backToTopThreshold) {\r\n        DOM.backToTop.classList.add('back-to-top--visible');\r\n      } else {\r\n        DOM.backToTop.classList.remove('back-to-top--visible');\r\n      }\r\n    }\r\n\r\n    // 更新活动链接\r\n    this.updateActiveLink();\r\n\r\n    this.lastScrollY = scrollY;\r\n  }\r\n\r\n  private updateActiveLink(): void {\r\n    const sections = document.querySelectorAll('section[id]');\r\n    const scrollY = window.pageYOffset;\r\n    const headerHeight = DOM.header?.offsetHeight || 0;\r\n\r\n    sections.forEach(section => {\r\n      const sectionTop = (section as HTMLElement).offsetTop - headerHeight - 100;\r\n      const sectionHeight = (section as HTMLElement).offsetHeight;\r\n      const sectionId = section.getAttribute('id');\r\n\r\n      if (scrollY > sectionTop && scrollY <= sectionTop + sectionHeight) {\r\n        DOM.navLinks.forEach(link => {\r\n          link.classList.remove('active');\r\n          if (link.getAttribute('href') === `#${sectionId}`) {\r\n            link.classList.add('active');\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\n// ============================================\r\n// 计数动画\r\n// ============================================\r\n\r\nclass CounterAnimation {\r\n  private counters: Map<HTMLElement, {\r\n    targetValue: number;\r\n    suffix: string;\r\n    startTime: number | null;\r\n    startValue: number;\r\n    animated: boolean;\r\n  }> = new Map();\r\n\r\n  constructor() {\r\n    this.init();\r\n  }\r\n\r\n  private init(): void {\r\n    DOM.stats.forEach(stat => {\r\n      const targetValue = parseFloat(stat.dataset.count || '0');\r\n      const suffix = stat.dataset.suffix || '';\r\n\r\n      this.counters.set(stat, {\r\n        targetValue,\r\n        suffix,\r\n        startTime: null,\r\n        startValue: 0,\r\n        animated: false,\r\n      });\r\n    });\r\n\r\n    this.setupIntersectionObserver();\r\n  }\r\n\r\n  private setupIntersectionObserver(): void {\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        entries.forEach(entry => {\r\n          if (entry.isIntersecting) {\r\n            const stat = entry.target as HTMLElement;\r\n            const counter = this.counters.get(stat);\r\n\r\n            if (counter && !counter.animated) {\r\n              counter.animated = true;\r\n              this.animateCounter(stat, counter);\r\n              observer.unobserve(stat);\r\n            }\r\n          }\r\n        });\r\n      },\r\n      { threshold: 0.5 }\r\n    );\r\n\r\n    DOM.stats.forEach(stat => observer.observe(stat));\r\n  }\r\n\r\n  private animateCounter(element: HTMLElement, counter: {\r\n    targetValue: number;\r\n    suffix: string;\r\n    startTime: number | null;\r\n    startValue: number;\r\n    animated: boolean;\r\n  }): void {\r\n    const animate = (currentTime: number) => {\r\n      if (counter.startTime === null) {\r\n        counter.startTime = currentTime;\r\n      }\r\n\r\n      const elapsed = currentTime - counter.startTime;\r\n      const progress = Math.min(elapsed / CONFIG.counterDuration, 1);\r\n\r\n      // 使用 easeOutQuart 缓动函数\r\n      const easeOutQuart = 1 - Math.pow(1 - progress, 4);\r\n      const currentValue = counter.startValue + (counter.targetValue - counter.startValue) * easeOutQuart;\r\n\r\n      // 格式化数值\r\n      if (counter.targetValue >= 100000) {\r\n        element.textContent = `${(currentValue / 10000).toFixed(0)}万+${counter.suffix}`;\r\n      } else if (counter.targetValue >= 1000) {\r\n        // 检查是否为中文单位后缀\r\n        if (counter.suffix && (counter.suffix.includes('万') || counter.suffix.includes('亿'))) {\r\n          element.textContent = `${Math.floor(currentValue)}${counter.suffix}`;\r\n        } else {\r\n          element.textContent = `${(currentValue / 1000).toFixed(1)}k+${counter.suffix}`;\r\n        }\r\n      } else if (counter.targetValue % 1 !== 0) {\r\n        element.textContent = `${currentValue.toFixed(1)}${counter.suffix}`;\r\n      } else {\r\n        element.textContent = `${Math.floor(currentValue)}${counter.suffix}`;\r\n      }\r\n\r\n      if (progress < 1) {\r\n        requestAnimationFrame(animate);\r\n      }\r\n    };\r\n\r\n    requestAnimationFrame(animate);\r\n  }\r\n}\r\n\r\n// ============================================\r\n// 滚动动画\r\n// ============================================\r\n\r\nclass ScrollAnimation {\r\n  private elements: HTMLElement[] = [];\r\n\r\n  constructor() {\r\n    this.init();\r\n  }\r\n\r\n  private init(): void {\r\n    // 选择要动画的元素\r\n    const selectors = [\r\n      '.product-card',\r\n      '.advantage-item',\r\n      '.solution-card',\r\n      '.case-card',\r\n      '.benefit-item',\r\n      '.download-card',\r\n      '.contact-item',\r\n      '.certificate-card',\r\n      '.culture-item',\r\n      '.timeline-item',\r\n    ];\r\n\r\n    selectors.forEach(selector => {\r\n      document.querySelectorAll(selector).forEach(el => {\r\n        this.elements.push(el as HTMLElement);\r\n      });\r\n    });\r\n\r\n    this.setupIntersectionObserver();\r\n  }\r\n\r\n  private setupIntersectionObserver(): void {\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        entries.forEach((entry, index) => {\r\n          if (entry.isIntersecting) {\r\n            // 添加延迟，创建级联效果\r\n            setTimeout(() => {\r\n              (entry.target as HTMLElement).classList.add('fade-in--visible');\r\n            }, index * 50);\r\n\r\n            observer.unobserve(entry.target);\r\n          }\r\n        });\r\n      },\r\n      {\r\n        threshold: CONFIG.animationThreshold,\r\n        rootMargin: CONFIG.animationRootMargin,\r\n      }\r\n    );\r\n\r\n    this.elements.forEach(el => {\r\n      el.classList.add('fade-in');\r\n      observer.observe(el);\r\n    });\r\n  }\r\n}\r\n\r\n// ============================================\r\n// 回到顶部\r\n// ============================================\r\n\r\nclass BackToTop {\r\n  constructor() {\r\n    this.init();\r\n  }\r\n\r\n  private init(): void {\r\n    DOM.backToTop?.addEventListener('click', () => {\r\n      window.scrollTo({\r\n        top: 0,\r\n        behavior: 'smooth',\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\n// ============================================\r\n// Hero 轮播图\r\n// ============================================\r\n\r\nclass HeroCarousel {\r\n  private carousel: HTMLElement | null = null;\r\n  private track: HTMLElement | null = null;\r\n  private slides: HTMLElement[] = [];\r\n  private prevBtn: HTMLElement | null = null;\r\n  private nextBtn: HTMLElement | null = null;\r\n  private indicators: HTMLElement[] = [];\r\n  private currentIndex = 0;\r\n  private autoplayInterval: number | null = null;\r\n\r\n  constructor() {\r\n    this.init();\r\n  }\r\n\r\n  private init(): void {\r\n    this.carousel = document.getElementById('heroCarousel');\r\n    this.track = document.getElementById('carouselTrack');\r\n    this.prevBtn = document.getElementById('carouselPrev');\r\n    this.nextBtn = document.getElementById('carouselNext');\r\n\r\n    if (!this.carousel || !this.track) return;\r\n\r\n    this.slides = Array.from(this.track.querySelectorAll('.hero__carousel-slide'));\r\n    this.indicators = Array.from(this.carousel.querySelectorAll('.hero__carousel-indicator'));\r\n\r\n    if (this.slides.length === 0) return;\r\n\r\n    // 绑定按钮事件\r\n    this.prevBtn?.addEventListener('click', () => this.prev());\r\n    this.nextBtn?.addEventListener('click', () => this.next());\r\n\r\n    // 绑定指示器事件\r\n    this.indicators.forEach((indicator, index) => {\r\n      indicator.addEventListener('click', () => this.goToSlide(index));\r\n    });\r\n\r\n    // 初始化显示第一张\r\n    this.goToSlide(0);\r\n\r\n    // 自动播放\r\n    this.startAutoplay();\r\n\r\n    // 鼠标悬停时暂停自动播放\r\n    this.carousel.addEventListener('mouseenter', () => this.stopAutoplay());\r\n    this.carousel.addEventListener('mouseleave', () => this.startAutoplay());\r\n  }\r\n\r\n  private goToSlide(index: number): void {\r\n    if (index < 0) {\r\n      index = this.slides.length - 1;\r\n    } else if (index >= this.slides.length) {\r\n      index = 0;\r\n    }\r\n\r\n    this.currentIndex = index;\r\n\r\n    // 更新slide显示\r\n    this.slides.forEach((slide, i) => {\r\n      if (i === index) {\r\n        slide.classList.add('active');\r\n      } else {\r\n        slide.classList.remove('active');\r\n      }\r\n    });\r\n\r\n    // 更新指示器\r\n    this.indicators.forEach((indicator, i) => {\r\n      if (i === index) {\r\n        indicator.classList.add('active');\r\n      } else {\r\n        indicator.classList.remove('active');\r\n      }\r\n    });\r\n  }\r\n\r\n  private next(): void {\r\n    this.goToSlide(this.currentIndex + 1);\r\n  }\r\n\r\n  private prev(): void {\r\n    this.goToSlide(this.currentIndex - 1);\r\n  }\r\n\r\n  private startAutoplay(): void {\r\n    this.stopAutoplay();\r\n    this.autoplayInterval = window.setInterval(() => {\r\n      this.next();\r\n    }, 4000);\r\n  }\r\n\r\n  private stopAutoplay(): void {\r\n    if (this.autoplayInterval) {\r\n      clearInterval(this.autoplayInterval);\r\n      this.autoplayInterval = null;\r\n    }\r\n  }\r\n}\r\n\r\n// ============================================\r\n// Lightbox - 图片全屏查看\r\n// ============================================\r\n\r\nclass Lightbox {\r\n  private lightbox: HTMLElement | null = null;\r\n  private overlay: HTMLElement | null = null;\r\n  private closeBtn: HTMLElement | null = null;\r\n  private image: HTMLElement | null = null;\r\n  private prevBtn: HTMLElement | null = null;\r\n  private nextBtn: HTMLElement | null = null;\r\n  private carouselImages: HTMLImageElement[] = [];\r\n  private currentIndex = 0;\r\n\r\n  constructor() {\r\n    this.init();\r\n  }\r\n\r\n  private init(): void {\r\n    this.lightbox = document.getElementById('lightbox');\r\n    this.overlay = document.getElementById('lightboxOverlay');\r\n    this.closeBtn = document.getElementById('lightboxClose');\r\n    this.image = document.getElementById('lightboxImage');\r\n    this.prevBtn = document.getElementById('lightboxPrev');\r\n    this.nextBtn = document.getElementById('lightboxNext');\r\n\r\n    if (!this.lightbox || !this.overlay || !this.closeBtn || !this.image) return;\r\n\r\n    // 获取所有轮播图图片\r\n    this.carouselImages = Array.from(document.querySelectorAll('.hero__carousel-image'));\r\n\r\n    // 为每张轮播图添加点击事件\r\n    this.carouselImages.forEach((img, index) => {\r\n      img.style.cursor = 'pointer';\r\n      img.addEventListener('click', () => this.open(index));\r\n    });\r\n\r\n    // 为证书图片添加点击事件\r\n    const certificateImages = Array.from(document.querySelectorAll('.certificate-zoom'));\r\n    certificateImages.forEach((img) => {\r\n      img.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        const fullSrc = img.getAttribute('data-full') || (img as HTMLImageElement).src;\r\n        this.openCustom(fullSrc, img.getAttribute('alt') || '');\r\n      });\r\n    });\r\n\r\n    // 关闭按钮\r\n    this.closeBtn.addEventListener('click', () => this.close());\r\n\r\n    // 上一张按钮\r\n    this.prevBtn?.addEventListener('click', () => this.prev());\r\n\r\n    // 下一张按钮\r\n    this.nextBtn?.addEventListener('click', () => this.next());\r\n\r\n    // 点击遮罩层关闭\r\n    this.overlay.addEventListener('click', () => this.close());\r\n\r\n    // 键盘事件\r\n    document.addEventListener('keydown', (e) => {\r\n      if (!this.lightbox?.classList.contains('active')) return;\r\n\r\n      if (e.key === 'Escape') {\r\n        this.close();\r\n      } else if (e.key === 'ArrowLeft') {\r\n        this.prev();\r\n      } else if (e.key === 'ArrowRight') {\r\n        this.next();\r\n      }\r\n    });\r\n  }\r\n\r\n  private open(index: number): void {\r\n    if (!this.image || !this.lightbox) return;\r\n\r\n    this.currentIndex = index;\r\n\r\n    // 设置图片源\r\n    const img = this.carouselImages[index];\r\n    (this.image as HTMLImageElement).src = img.src;\r\n    this.image.setAttribute('alt', img.getAttribute('alt') || '');\r\n\r\n    // 显示上一张/下一张按钮\r\n    this.prevBtn?.classList.remove('hidden');\r\n    this.nextBtn?.classList.remove('hidden');\r\n\r\n    // 显示lightbox\r\n    this.lightbox.classList.add('active');\r\n\r\n    // 禁止背景滚动\r\n    document.body.style.overflow = 'hidden';\r\n  }\r\n\r\n  private close(): void {\r\n    if (!this.lightbox) return;\r\n\r\n    this.lightbox.classList.remove('active');\r\n\r\n    // 恢复背景滚动\r\n    document.body.style.overflow = '';\r\n  }\r\n\r\n  private openCustom(src: string, alt: string): void {\r\n    if (!this.image || !this.lightbox) return;\r\n\r\n    // 设置图片源\r\n    (this.image as HTMLImageElement).src = src;\r\n    this.image.setAttribute('alt', alt);\r\n\r\n    // 隐藏上一张/下一张按钮（证书图片不支持切换）\r\n    this.prevBtn?.classList.add('hidden');\r\n    this.nextBtn?.classList.add('hidden');\r\n\r\n    // 显示lightbox\r\n    this.lightbox.classList.add('active');\r\n\r\n    // 禁止背景滚动\r\n    document.body.style.overflow = 'hidden';\r\n  }\r\n\r\n  private prev(): void {\r\n    if (this.carouselImages.length === 0) return;\r\n\r\n    this.currentIndex--;\r\n    if (this.currentIndex < 0) {\r\n      this.currentIndex = this.carouselImages.length - 1;\r\n    }\r\n\r\n    this.showImage(this.currentIndex);\r\n  }\r\n\r\n  private next(): void {\r\n    if (this.carouselImages.length === 0) return;\r\n\r\n    this.currentIndex++;\r\n    if (this.currentIndex >= this.carouselImages.length) {\r\n      this.currentIndex = 0;\r\n    }\r\n\r\n    this.showImage(this.currentIndex);\r\n  }\r\n\r\n  private showImage(index: number): void {\r\n    if (!this.image || index < 0 || index >= this.carouselImages.length) return;\r\n\r\n    const img = this.carouselImages[index];\r\n    (this.image as HTMLImageElement).src = img.src;\r\n    this.image.setAttribute('alt', img.getAttribute('alt') || '');\r\n  }\r\n}\r\n\r\n// ============================================\r\n// 页面加载完成\r\n// ============================================\r\n\r\nclass App {\r\n  private navigation!: Navigation;\r\n  private counterAnimation!: CounterAnimation;\r\n  private scrollAnimation!: ScrollAnimation;\r\n  private backToTop!: BackToTop;\r\n  private heroCarousel!: HeroCarousel;\r\n  private mapTooltip!: MapTooltip;\r\n  private lightbox!: Lightbox;\r\n\r\n  constructor() {\r\n    // 等待 DOM 加载完成\r\n    if (document.readyState === 'loading') {\r\n      document.addEventListener('DOMContentLoaded', () => this.init());\r\n    } else {\r\n      this.init();\r\n    }\r\n  }\r\n\r\n  private init(): void {\r\n    // 初始化各个模块\r\n    this.navigation = new Navigation();\r\n    this.counterAnimation = new CounterAnimation();\r\n    this.scrollAnimation = new ScrollAnimation();\r\n    this.backToTop = new BackToTop();\r\n    this.heroCarousel = new HeroCarousel();\r\n    this.mapTooltip = new MapTooltip();\r\n    this.lightbox = new Lightbox();\r\n\r\n    // 添加页面加载完成的类\r\n    document.body.classList.add('loaded');\r\n\r\n    console.log('必诚科技官网已加载完成');\r\n\r\n    // 保持对象引用（避免未使用警告）\r\n    void this.mapTooltip;\r\n    void this.lightbox;\r\n  }\r\n}\r\n\r\n// ============================================\r\n// 地图悬浮提示\r\n// ============================================\r\n\r\nclass MapTooltip {\r\n  private map: HTMLElement | null = null;\r\n  private mapTitle: HTMLElement | null = null;\r\n  private tooltip: HTMLElement | null = null;\r\n  private tooltipText: HTMLElement | null = null;\r\n  private provinces: HTMLElement[] = [];\r\n\r\n  constructor() {\r\n    this.init();\r\n  }\r\n\r\n  private init(): void {\r\n    this.map = document.querySelector('.china-map');\r\n    this.tooltip = document.getElementById('mapTooltip');\r\n    this.mapTitle = document.querySelector('.partners__map h3');\r\n\r\n    if (!this.map || !this.tooltip) return;\r\n\r\n    this.tooltipText = document.getElementById('tooltipText');\r\n    // 确保标题为空\r\n    if (this.mapTitle) {\r\n      this.mapTitle.textContent = '';\r\n    }\r\n\r\n    this.provinces = Array.from(this.map.querySelectorAll('.province'));\r\n\r\n    this.provinces.forEach(province => {\r\n      province.addEventListener('mouseenter', (e) => this.showTooltip(e));\r\n      province.addEventListener('mouseleave', () => this.hideTooltip());\r\n    });\r\n  }\r\n\r\n  private showTooltip(event: Event): void {\r\n    const province = event.currentTarget as HTMLElement;\r\n    const name = province.getAttribute('data-name');\r\n\r\n    if (!name || !this.tooltipText || !this.tooltip || !this.mapTitle) return;\r\n\r\n    // 在标题位置显示省份名称\r\n    this.mapTitle.textContent = name;\r\n\r\n    // 在地图上隐藏原来的 tooltip\r\n    this.tooltip.style.display = 'none';\r\n  }\r\n\r\n  private hideTooltip(): void {\r\n    if (this.mapTitle) {\r\n      // 恢复为空\r\n      this.mapTitle.textContent = '';\r\n    }\r\n  }\r\n}\r\n\r\n// 启动应用\r\nnew App();\r\n\r\n// ============================================\r\n// 导出（供其他模块使用）\r\n// ============================================\r\n\r\nexport { App, Navigation, CounterAnimation, ScrollAnimation, HeroCarousel, MapTooltip, Lightbox };\r\n"],"names":["CONFIG","DOM","Navigation","__publicField","_a","link","_b","_c","anchor","href","target","headerHeight","targetPosition","scrollY","sections","section","sectionTop","sectionHeight","sectionId","CounterAnimation","stat","targetValue","suffix","observer","entries","entry","counter","element","animate","currentTime","elapsed","progress","easeOutQuart","currentValue","ScrollAnimation","selector","el","index","BackToTop","HeroCarousel","indicator","slide","i","Lightbox","img","e","fullSrc","src","alt","App","MapTooltip","province","event","name"],"mappings":"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"}