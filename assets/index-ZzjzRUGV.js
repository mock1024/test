var m=Object.defineProperty;var g=(a,t,e)=>t in a?m(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var o=(a,t,e)=>g(a,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=e(s);fetch(s.href,n)}})();const d={headerThreshold:50,backToTopThreshold:500,animationThreshold:.1,animationRootMargin:"0px 0px -50px 0px",counterDuration:2e3},r={header:document.getElementById("header"),navToggle:document.getElementById("navToggle"),navMenu:document.getElementById("navMenu"),backToTop:document.getElementById("backToTop"),navLinks:document.querySelectorAll(".nav__link"),stats:document.querySelectorAll(".stat__value"),hero:document.getElementById("home"),lightbox:document.getElementById("lightbox")};class f{constructor(){o(this,"lastScrollY",0);o(this,"ticking",!1);this.init()}init(){var t;(t=r.navToggle)==null||t.addEventListener("click",()=>this.toggleMobileMenu()),r.navLinks.forEach(e=>{e.addEventListener("click",()=>this.closeMobileMenu())}),this.setupSmoothScroll(),window.addEventListener("scroll",()=>this.onScroll(),{passive:!0}),this.updateActiveLink()}toggleMobileMenu(){var t,e,i;(t=r.navToggle)==null||t.classList.toggle("nav__toggle--active"),(e=r.navMenu)==null||e.classList.toggle("nav__menu--active"),document.body.style.overflow=(i=r.navMenu)!=null&&i.classList.contains("nav__menu--active")?"hidden":""}closeMobileMenu(){var t,e;(t=r.navToggle)==null||t.classList.remove("nav__toggle--active"),(e=r.navMenu)==null||e.classList.remove("nav__menu--active"),document.body.style.overflow=""}setupSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",e=>{var n;const i=t.getAttribute("href");if(!i||i==="#")return;const s=document.querySelector(i);if(s){e.preventDefault();const l=((n=r.header)==null?void 0:n.offsetHeight)||0,h=s.getBoundingClientRect().top+window.pageYOffset-l;window.scrollTo({top:h,behavior:"smooth"})}})})}onScroll(){this.ticking||(window.requestAnimationFrame(()=>{this.handleScroll(),this.ticking=!1}),this.ticking=!0)}handleScroll(){const t=window.pageYOffset;r.header&&(t>d.headerThreshold?r.header.classList.add("header--scrolled"):r.header.classList.remove("header--scrolled")),r.backToTop&&(t>d.backToTopThreshold?r.backToTop.classList.add("back-to-top--visible"):r.backToTop.classList.remove("back-to-top--visible")),this.updateActiveLink(),this.lastScrollY=t}updateActiveLink(){var s;const t=document.querySelectorAll("section[id]"),e=window.pageYOffset,i=((s=r.header)==null?void 0:s.offsetHeight)||0;t.forEach(n=>{const l=n.offsetTop-i-100,h=n.offsetHeight,c=n.getAttribute("id");e>l&&e<=l+h&&r.navLinks.forEach(u=>{u.classList.remove("active"),u.getAttribute("href")===`#${c}`&&u.classList.add("active")})})}}class p{constructor(){o(this,"counters",new Map);this.init()}init(){r.stats.forEach(t=>{const e=parseFloat(t.dataset.count||"0"),i=t.dataset.suffix||"";this.counters.set(t,{targetValue:e,suffix:i,startTime:null,startValue:0,animated:!1})}),this.setupIntersectionObserver()}setupIntersectionObserver(){const t=new IntersectionObserver(e=>{e.forEach(i=>{if(i.isIntersecting){const s=i.target,n=this.counters.get(s);n&&!n.animated&&(n.animated=!0,this.animateCounter(s,n),t.unobserve(s))}})},{threshold:.5});r.stats.forEach(e=>t.observe(e))}animateCounter(t,e){const i=s=>{e.startTime===null&&(e.startTime=s);const n=s-e.startTime,l=Math.min(n/d.counterDuration,1),h=1-Math.pow(1-l,4),c=e.startValue+(e.targetValue-e.startValue)*h;e.targetValue>=1e5?t.textContent=`${(c/1e4).toFixed(0)}万+${e.suffix}`:e.targetValue>=1e3?e.suffix&&(e.suffix.includes("万")||e.suffix.includes("亿"))?t.textContent=`${Math.floor(c)}${e.suffix}`:t.textContent=`${(c/1e3).toFixed(1)}k+${e.suffix}`:e.targetValue%1!==0?t.textContent=`${c.toFixed(1)}${e.suffix}`:t.textContent=`${Math.floor(c)}${e.suffix}`,l<1&&requestAnimationFrame(i)};requestAnimationFrame(i)}}class v{constructor(){o(this,"elements",[]);this.init()}init(){[".product-card",".advantage-item",".solution-card",".case-card",".benefit-item",".download-card",".contact-item",".certificate-card",".culture-item",".timeline-item"].forEach(e=>{document.querySelectorAll(e).forEach(i=>{this.elements.push(i)})}),this.setupIntersectionObserver()}setupIntersectionObserver(){const t=new IntersectionObserver(e=>{e.forEach((i,s)=>{i.isIntersecting&&(setTimeout(()=>{i.target.classList.add("fade-in--visible")},s*50),t.unobserve(i.target))})},{threshold:d.animationThreshold,rootMargin:d.animationRootMargin});this.elements.forEach(e=>{e.classList.add("fade-in"),t.observe(e)})}}class y{constructor(){this.init()}init(){var t;(t=r.backToTop)==null||t.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}}class b{constructor(){o(this,"carousel",null);o(this,"track",null);o(this,"slides",[]);o(this,"prevBtn",null);o(this,"nextBtn",null);o(this,"indicators",[]);o(this,"currentIndex",0);o(this,"autoplayInterval",null);this.init()}init(){var t,e;this.carousel=document.getElementById("heroCarousel"),this.track=document.getElementById("carouselTrack"),this.prevBtn=document.getElementById("carouselPrev"),this.nextBtn=document.getElementById("carouselNext"),!(!this.carousel||!this.track)&&(this.slides=Array.from(this.track.querySelectorAll(".hero__carousel-slide")),this.indicators=Array.from(this.carousel.querySelectorAll(".hero__carousel-indicator")),this.slides.length!==0&&((t=this.prevBtn)==null||t.addEventListener("click",()=>this.prev()),(e=this.nextBtn)==null||e.addEventListener("click",()=>this.next()),this.indicators.forEach((i,s)=>{i.addEventListener("click",()=>this.goToSlide(s))}),this.goToSlide(0),this.startAutoplay(),this.carousel.addEventListener("mouseenter",()=>this.stopAutoplay()),this.carousel.addEventListener("mouseleave",()=>this.startAutoplay())))}goToSlide(t){t<0?t=this.slides.length-1:t>=this.slides.length&&(t=0),this.currentIndex=t,this.slides.forEach((e,i)=>{i===t?e.classList.add("active"):e.classList.remove("active")}),this.indicators.forEach((e,i)=>{i===t?e.classList.add("active"):e.classList.remove("active")})}next(){this.goToSlide(this.currentIndex+1)}prev(){this.goToSlide(this.currentIndex-1)}startAutoplay(){this.stopAutoplay(),this.autoplayInterval=window.setInterval(()=>{this.next()},4e3)}stopAutoplay(){this.autoplayInterval&&(clearInterval(this.autoplayInterval),this.autoplayInterval=null)}}class T{constructor(){o(this,"lightbox",null);o(this,"overlay",null);o(this,"closeBtn",null);o(this,"image",null);o(this,"prevBtn",null);o(this,"nextBtn",null);o(this,"carouselImages",[]);o(this,"currentIndex",0);this.init()}init(){var t,e;this.lightbox=document.getElementById("lightbox"),this.overlay=document.getElementById("lightboxOverlay"),this.closeBtn=document.getElementById("lightboxClose"),this.image=document.getElementById("lightboxImage"),this.prevBtn=document.getElementById("lightboxPrev"),this.nextBtn=document.getElementById("lightboxNext"),!(!this.lightbox||!this.overlay||!this.closeBtn||!this.image)&&(this.carouselImages=Array.from(document.querySelectorAll(".hero__carousel-image")),this.carouselImages.forEach((i,s)=>{i.style.cursor="pointer",i.addEventListener("click",()=>this.open(s))}),this.closeBtn.addEventListener("click",()=>this.close()),(t=this.prevBtn)==null||t.addEventListener("click",()=>this.prev()),(e=this.nextBtn)==null||e.addEventListener("click",()=>this.next()),this.overlay.addEventListener("click",()=>this.close()),document.addEventListener("keydown",i=>{var s;(s=this.lightbox)!=null&&s.classList.contains("active")&&(i.key==="Escape"?this.close():i.key==="ArrowLeft"?this.prev():i.key==="ArrowRight"&&this.next())}))}open(t){if(!this.image||!this.lightbox)return;this.currentIndex=t;const e=this.carouselImages[t];this.image.src=e.src,this.image.setAttribute("alt",e.getAttribute("alt")||""),this.lightbox.classList.add("active"),document.body.style.overflow="hidden"}close(){this.lightbox&&(this.lightbox.classList.remove("active"),document.body.style.overflow="")}prev(){this.carouselImages.length!==0&&(this.currentIndex--,this.currentIndex<0&&(this.currentIndex=this.carouselImages.length-1),this.showImage(this.currentIndex))}next(){this.carouselImages.length!==0&&(this.currentIndex++,this.currentIndex>=this.carouselImages.length&&(this.currentIndex=0),this.showImage(this.currentIndex))}showImage(t){if(!this.image||t<0||t>=this.carouselImages.length)return;const e=this.carouselImages[t];this.image.src=e.src,this.image.setAttribute("alt",e.getAttribute("alt")||"")}}class x{constructor(){o(this,"navigation");o(this,"counterAnimation");o(this,"scrollAnimation");o(this,"backToTop");o(this,"heroCarousel");o(this,"mapTooltip");o(this,"lightbox");document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>this.init()):this.init()}init(){this.navigation=new f,this.counterAnimation=new p,this.scrollAnimation=new v,this.backToTop=new y,this.heroCarousel=new b,this.mapTooltip=new I,this.lightbox=new T,document.body.classList.add("loaded"),console.log("必诚科技官网已加载完成"),this.mapTooltip,this.lightbox}}class I{constructor(){o(this,"map",null);o(this,"mapTitle",null);o(this,"tooltip",null);o(this,"tooltipText",null);o(this,"provinces",[]);this.init()}init(){this.map=document.querySelector(".china-map"),this.tooltip=document.getElementById("mapTooltip"),this.mapTitle=document.querySelector(".partners__map h3"),!(!this.map||!this.tooltip)&&(this.tooltipText=document.getElementById("tooltipText"),this.mapTitle&&(this.mapTitle.textContent=""),this.provinces=Array.from(this.map.querySelectorAll(".province")),this.provinces.forEach(t=>{t.addEventListener("mouseenter",e=>this.showTooltip(e)),t.addEventListener("mouseleave",()=>this.hideTooltip())}))}showTooltip(t){const i=t.currentTarget.getAttribute("data-name");!i||!this.tooltipText||!this.tooltip||!this.mapTitle||(this.mapTitle.textContent=i,this.tooltip.style.display="none")}hideTooltip(){this.mapTitle&&(this.mapTitle.textContent="")}}new x;
//# sourceMappingURL=index-ZzjzRUGV.js.map
